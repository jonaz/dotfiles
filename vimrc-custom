set shiftwidth=4
set softtabstop=4
set tabstop=4
inoremap  { <C-R>=MasVinge()<CR>
func MasVinge()
    let col = col('.') - 1
    if getline('.')[col - 1] == ')'
        return "{\<CR>}\<C-O>\O"
    endif
    return '{'
endfunc
