#!/bin/bash
echo "Git pull"
git pull
echo "Git submodule init"
git submodule init
echo "Git submodule update"
git submodule update
#git submodule update
git submodule foreach git pull origin master

#append custom bashrc
echo "Setting up bashrc"
grep -q ". $PWD/bashrc" ~/.bashrc || echo ". $PWD/bashrc" >> ~/.bashrc

echo "Setting up jshintrc"
if [ ! -L ~/.jshintrc ]; then
    ln -s $PWD/jshintrc ~/.jshintrc
fi

echo "Setting up phpmd xml ruleset"
if [ ! -L ~/.phpmd-ruleset.xml ]; then
    ln -s $PWD/phpmd-ruleset.xml ~/.phpmd-ruleset.xml
fi

echo "Setting up dir_colors"
if [ ! -L ~/.dir_colors ]; then
    ln -s $PWD/dir_colors ~/.dir_colors
fi

cd dot-vim
./install
